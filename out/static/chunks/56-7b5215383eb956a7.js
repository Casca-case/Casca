(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{257:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l=[],u=!1,c=-1;function f(){u&&n&&(u=!1,n.length?l=n.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||u||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},5523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(7043)._(r(2265)).default.createContext(null)},6030:function(e,t,r){"use strict";r.d(t,{g:function(){return ny}}),r(7437);var n=r(2265);let o=function(e,t){if("function"==typeof e)return function(){return e(arguments)?t.apply(this,arguments):e=>t(e,...arguments)};switch(e){case 0:case 1:throw RangeError(`Invalid arity ${e}`);case 2:return function(e,r){return arguments.length>=2?t(e,r):function(r){return t(r,e)}};case 3:return function(e,r,n){return arguments.length>=3?t(e,r,n):function(n){return t(n,e,r)}};case 4:return function(e,r,n,o){return arguments.length>=4?t(e,r,n,o):function(o){return t(o,e,r,n)}};case 5:return function(e,r,n,o,i){return arguments.length>=5?t(e,r,n,o,i):function(i){return t(i,e,r,n,o)}};default:return function(){if(arguments.length>=e)return t.apply(this,arguments);let r=arguments;return function(e){return t(e,...r)}}}},i=e=>e,s=e=>()=>e,a=s(!0),l=s(null);function u(e,t,r,n,o,i,s,a,l){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return o(n(r(t(e))));case 6:return i(o(n(r(t(e)))));case 7:return s(i(o(n(r(t(e))))));case 8:return a(s(i(o(n(r(t(e)))))));case 9:return l(a(s(i(o(n(r(t(e))))))));default:{let e=arguments[0];for(let t=1;t<arguments.length;t++)e=arguments[t](e);return e}}}let c=Symbol.for("effect/GlobalValue/globalStoreId/3.4.8");c in globalThis||(globalThis[c]=new Map);let f=globalThis[c],h=(e,t)=>(f.has(e)||f.set(e,t()),f.get(e)),d=e=>"boolean"==typeof e,g=e=>"function"==typeof e,p=e=>"object"==typeof e&&null!==e,E=e=>p(e)||g(e),y=o(2,(e,t)=>E(e)&&t in e),_=o(2,(e,t)=>y(e,"_tag")&&e._tag===t),m=e=>y(e,Symbol.iterator),b=e=>p(e)&&!Array.isArray(e),O=e=>`BUG: ${e} - please report an issue at https://github.com/Effect-TS/effect/issues`;class v{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new v(this.self)}}let T=Symbol.for("effect/Utils/YieldWrap");class S{#e;constructor(e){this.#e=e}[T](){return this.#e}}let R=h("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),I=h(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),L=Symbol.for("effect/Hash"),N=e=>{if(!0===R.enabled)return 0;switch(typeof e){case"number":return U(e);case"bigint":return D(e.toString(10));case"boolean":case"symbol":return D(String(e));case"string":return D(e);case"undefined":return D("undefined");case"function":case"object":if(null===e)return D("null");if(e instanceof Date)return N(e.toISOString());if(C(e))return e[L]();return w(e);default:throw Error(`BUG: unhandled typeof ${typeof e} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},w=e=>(I.has(e)||I.set(e,U(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),I.get(e)),A=e=>t=>53*t^e,k=e=>3221225471&e|e>>>1&1073741824,C=e=>y(e,L),U=e=>{if(e!=e||e===1/0)return 0;let t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return k(e)},D=e=>{let t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return k(t)},M=(e,t)=>{let r=12289;for(let n=0;n<t.length;n++)r^=u(D(t[n]),A(N(e[t[n]])));return k(r)},j=e=>M(e,Object.keys(e)),P=function(){if(1==arguments.length){let e=arguments[0];return function(t){return Object.defineProperty(e,L,{value:()=>t,enumerable:!1}),t}}let e=arguments[0],t=arguments[1];return Object.defineProperty(e,L,{value:()=>t,enumerable:!1}),t},x=Symbol.for("effect/Equal");function F(){return 1==arguments.length?e=>B(e,arguments[0]):B(arguments[0],arguments[1])}function B(e,t){if(e===t)return!0;let r=typeof e;if(r!==typeof t)return!1;if("object"===r||"function"===r){if(null!==e&&null!==t){if($(e)&&$(t))return!!(N(e)===N(t)&&e[x](t))||!!R.enabled&&!!R.tester&&R.tester(e,t);if(e instanceof Date&&t instanceof Date)return e.toISOString()===t.toISOString()}if(R.enabled){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>B(e,t[r]));if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){let r=Object.keys(e),n=Object.keys(t);if(r.length===n.length){for(let n of r)if(!(n in t&&B(e[n],t[n])))return!!R.tester&&R.tester(e,t);return!0}}return!!R.tester&&R.tester(e,t)}}return!!R.enabled&&!!R.tester&&R.tester(e,t)}let $=e=>y(e,x),J=Symbol.for("nodejs.util.inspect.custom"),V=e=>y(e,"toJSON")&&g(e.toJSON)&&0===e.toJSON.length?e.toJSON():Array.isArray(e)?e.map(V):e,z=e=>JSON.stringify(e,null,2),G=(e,t=2)=>{try{return"object"==typeof e?Y(e,t):String(e)}catch(t){return String(e)}},Y=(e,t)=>{let r=[],n=JSON.stringify(e,(e,t)=>"object"==typeof t&&null!==t?r.includes(t)?void 0:r.push(t)&&t:t,t);return r=void 0,n},H=(e,t)=>{switch(t.length){case 1:return t[0](e);case 2:return t[1](t[0](e));case 3:return t[2](t[1](t[0](e)));case 4:return t[3](t[2](t[1](t[0](e))));case 5:return t[4](t[3](t[2](t[1](t[0](e)))));case 6:return t[5](t[4](t[3](t[2](t[1](t[0](e))))));case 7:return t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))));case 8:return t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e))))))));case 9:return t[8](t[7](t[6](t[5](t[4](t[3](t[2](t[1](t[0](e)))))))));default:{let r=e;for(let e=0,n=t.length;e<n;e++)r=t[e](r);return r}}},K=Symbol.for("effect/Effect"),W=Symbol.for("effect/Stream"),q=Symbol.for("effect/Sink"),X=Symbol.for("effect/Channel"),Z={_R:e=>e,_E:e=>e,_A:e=>e,_V:"3.4.8"},Q={[K]:Z,[W]:Z,[q]:{_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e},[X]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},[x](e){return this===e},[L](){return P(this,w(this))},[Symbol.iterator](){return new v(new S(this))},pipe(){return H(this,arguments)}},ee={[L](){return P(this,j(this))},[x](e){let t=Object.keys(this),r=Object.keys(e);if(t.length!==r.length)return!1;for(let r of t)if(!(r in e&&F(this[r],e[r])))return!1;return!0}},et=Symbol.for("effect/Option"),er={...Q,[et]:{_A:e=>e},[J](){return this.toJSON()},toString(){return z(this.toJSON())}},en=Object.assign(Object.create(er),{_tag:"Some",_op:"Some",[x](e){return es(e)&&el(e)&&F(this.value,e.value)},[L](){return P(this,A(N(this._tag))(N(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:V(this.value)}}}),eo=N("None"),ei=Object.assign(Object.create(er),{_tag:"None",_op:"None",[x]:e=>es(e)&&ea(e),[L]:()=>eo,toJSON(){return{_id:"Option",_tag:this._tag}}}),es=e=>y(e,et),ea=e=>"None"===e._tag,el=e=>"Some"===e._tag,eu=Object.create(ei),ec=e=>{let t=Object.create(en);return t.value=e,t},ef=Symbol.for("effect/Context/Tag"),eh=Symbol.for("effect/STM"),ed={...Q,_tag:"Tag",_op:"Tag",[eh]:Z,[ef]:{_Service:e=>e,_Identifier:e=>e},toString(){return z(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[J](){return this.toJSON()},of:e=>e,context(e){return eb(this,e)}},eg=Symbol.for("effect/Context"),ep={[eg]:{_Services:e=>e},[x](e){if(e_(e)&&this.unsafeMap.size===e.unsafeMap.size){for(let t of this.unsafeMap.keys())if(!e.unsafeMap.has(t)||!F(this.unsafeMap.get(t),e.unsafeMap.get(t)))return!1;return!0}return!1},[L](){return P(this,U(this.unsafeMap.size))},pipe(){return H(this,arguments)},toString(){return z(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(V)}},[J](){return this.toJSON()}},eE=e=>{let t=Object.create(ep);return t.unsafeMap=e,t},ey=e=>{let t=Error(`Service not found${e.key?`: ${String(e.key)}`:""}`);if(e.stack){let r=e.stack.split("\n");if(r.length>2){let e=r[2].match(/at (.*)/);e&&(t.message=t.message+` (defined at ${e[1]})`)}}if(t.stack){let e=t.stack.split("\n");e.splice(1,3),t.stack=e.join("\n")}return t},e_=e=>y(e,eg),em=eE(new Map),eb=(e,t)=>eE(new Map([[e.key,t]])),eO=o(3,(e,t,r)=>{let n=new Map(e.unsafeMap);return n.set(t.key,r),eE(n)}),ev=o(2,(e,t)=>{if(!e.unsafeMap.has(t.key))throw ey(t);return e.unsafeMap.get(t.key)}),eT=()=>em,eS=e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function n(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(n,ed),n.key=e,Object.defineProperty(n,"stack",{get:()=>r.stack}),n},eR=Symbol.for("effect/Either"),eI={...Q,[eR]:{_R:e=>e},[J](){return this.toJSON()},toString(){return z(this.toJSON())}},eL=Object.assign(Object.create(eI),{_tag:"Right",_op:"Right",[x](e){return ew(e)&&ek(e)&&F(this.right,e.right)},[L](){return A(N(this._tag))(N(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:V(this.right)}}}),eN=Object.assign(Object.create(eI),{_tag:"Left",_op:"Left",[x](e){return ew(e)&&eA(e)&&F(this.left,e.left)},[L](){return A(N(this._tag))(N(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:V(this.left)}}}),ew=e=>y(e,eR),eA=e=>"Left"===e._tag,ek=e=>"Right"===e._tag,eC=e=>{let t=Object.create(eN);return t.left=e,t},eU=e=>{let t=Object.create(eL);return t.right=e,t};class eD{self;called=!1;constructor(e){this.self=e}next(e){return this.called?{value:e,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(e){return{value:e,done:!0}}throw(e){throw e}[Symbol.iterator](){return new eD(this.self)}}let eM=()=>eu,ej=o(2,(e,t)=>ea(e)?t():e.value)(l),eP=o(2,(e,t)=>ea(e)?eM():ec(t(e.value))),ex=Symbol.for("effect/Micro"),eF=Symbol.for("effect/Micro/runSymbol"),eB=e=>"object"==typeof e&&null!==e&&ex in e,e$=Symbol.for("effect/Micro/MicroCause"),eJ={_E:i};class eV extends globalThis.Error{_tag;traces;[e$];constructor(e,t,r){let n,o,i;let s=`MicroCause.${e}`;if(t instanceof globalThis.Error){n=`(${s}) ${t.name}`;let e=(o=t.message).split("\n").length;i=t.stack?`(${s}) ${t.stack.split("\n").slice(0,e+3).join("\n")}`:`${n}: ${o}`}else n=s,o=G(t,0),i=`${n}: ${o}`;r.length>0&&(i+=`
    ${r.join("\n    ")}`),super(o),this._tag=e,this.traces=r,this[e$]=eJ,this.name=n,this.stack=i}pipe(){return H(this,arguments)}toString(){return this.stack}[J](){return this.stack}}class ez extends eV{error;constructor(e,t=[]){super("Fail",e,t),this.error=e}}let eG=(e,t=[])=>new ez(e,t);class eY extends eV{defect;constructor(e,t=[]){super("Die",e,t),this.defect=e}}let eH=(e,t=[])=>new eY(e,t);class eK extends eV{constructor(e=[]){super("Interrupt","interrupted",e)}}let eW=(e=[])=>new eK(e),eq=e=>"Fail"===e._tag,eX=e=>"Fail"===e._tag?e.error:"Die"===e._tag?e.defect:e,eZ=o(2,(e,t)=>{let r=[...e.traces,t];switch(e._tag){case"Die":return eH(e.defect,r);case"Interrupt":return eW(r);case"Fail":return eG(e.error,r)}}),eQ=eC(eW()),e0=e=>eC(eG(e)),e1=e=>eC(eH(e)),e2=e=>eA(e)&&"Interrupt"===e.left._tag,e3=eU(void 0),e4=Symbol.for("effect/Micro/Env"),e5=Symbol.for("effect/Micro/EnvRef"),e7={[e4]:{_R:i},pipe(){return H(this,arguments)}},e6=e=>{let t=Object.create(e7);return t.refs=e,t},e9=o(2,(e,t)=>t.key in e.refs?e.refs[t.key]:t.initial),e8=o(3,(e,t,r)=>{let n=Object.assign(Object.create(null),e.refs);return n[t.key]=r,e6(n)}),te=o(2,(e,t)=>e6(t(Object.assign(Object.create(null),e.refs)))),tt=e=>tp(function(t,r){r(eU(ev(e9(t,ta),e)))}),tr=o(3,(e,t,r)=>tp(function(n,o){let i=e9(n,ta),s=e8(n,ta,eO(i,t,r));e[eF](s,o)})),tn={[e5]:e5},to=(e,t)=>h(e,()=>{let r=Object.create(tn);return r.key=e,r.initial=t(),r}),ti=to("effect/Micro/currentAbortController",()=>void 0),ts=to("effect/Micro/currentAbortSignal",()=>void 0),ta=to("effect/Micro/currentContext",()=>eT()),tl=to("effect/Micro/currentConcurrency",()=>"unbounded"),tu=to("effect/Micro/currentMaxDepthBeforeYield",()=>2048),tc=to("effect/Micro/currentInterruptible",()=>!0),tf={...Q,_op:"Micro",[ex]:{_A:i,_E:i,_R:i},[Symbol.iterator](){return new eD(new S(this))}},th=h("effect/Micro/microDepthState",()=>({depth:0,maxDepthBeforeYield:tu.initial})),td=e=>{let t=Object.create(tf);return t[eF]=e,t},tg=(e,t)=>td(function r(n,o){if(t&&!1!==n.refs[tc.key]&&n.refs[ts.key].aborted)return o(eQ);if(th.depth++,1===th.depth&&(th.maxDepthBeforeYield=e9(n,tu)),th.depth>=th.maxDepthBeforeYield)tC(()=>r(n,o));else try{e(n,o)}catch(e){o(e1(e))}th.depth--}),tp=e=>tg(e,!0),tE=e=>tp(function(t,r){r(e)}),ty=e=>tE(eU(e)),t_=e=>tE(e0(e)),tm=e=>tE(e1(e)),tb=e=>tE(eC(e)),tO=e=>tp(function(t,r){r(eU(e()))}),tv=e=>tp(function(t,r){r("Some"===e._tag?eU(e.value):e0(new rb({})))}),tT=e=>tp(function(t,r){e()[eF](t,r)}),tS=ty(void 0),tR=e=>tp(function(t,r){let n,o=!1,i=e.length>1?new AbortController:void 0,s=e9(t,ts);function a(){n?l(rs(tF(n,tE(eQ)))):l(tE(eQ)),void 0!==i&&i.abort()}function l(e){o||(o=!0,s.removeEventListener("abort",a),e[eF](t,r))}n=void 0===i?e(l):e(l,i.signal),o||s.addEventListener("abort",a)}),tI=e=>tp(function(t,r){try{r(eU(e.try()))}catch(t){r(e0(e.catch(t)))}}),tL=e=>tR(function(t,r){e(r).then(e=>t(ty(e)),e=>t(tm(e)))}),tN=e=>tR(function(t,r){try{e.try(r).then(e=>t(ty(e)),r=>t(t_(e.catch(r))))}catch(r){t(t_(e.catch(r)))}}),tw=h("effect/Micro/yieldState",()=>({tasks:[],working:!1})),tA=()=>{let e=tw.tasks;tw.tasks=[];for(let t=0,r=e.length;t<r;t++)e[t]()},tk="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0),tC=e=>{tw.tasks.push(e),tw.working||(tw.working=!0,tk(()=>{tw.working=!1,tA()}))},tU=tp(function(e,t){tC(()=>t(e3))}),tD=(...e)=>tp(function(t,r){let n;let o=1===e.length?e[0]():e[1].call(e[0]),i=!1;!function e(){i=!0;try{let s=!0;for(;s;){let a=o.next(n);if(a.done)return r(eU(a.value));s=!1,(function(e){if("object"==typeof e&&null!==e&&T in e)return e[T]();throw Error(O("yieldWrapGet"))})(a.value)[eF](t,function(t){"Left"===t._tag?r(t):(s=!0,n=t.right,i||e())})}}catch(e){r(e1(e))}i=!1}()}),tM=o(2,(e,t)=>tp(function(r,n){e[eF](r,function(e){n("Left"===e._tag?e:eU(t(e.right)))})})),tj=o(2,(e,t)=>tM(e,e=>t)),tP=e=>tM(e,ec),tx=o(2,(e,t)=>tp(function(r,n){e[eF](r,function(e){if("Left"===e._tag)return n(e);t(e.right)[eF](r,n)})})),tF=o(2,(e,t)=>tp(function(r,n){e[eF](r,function(e){if("Left"===e._tag)return n(e);if(e9(r,ts).aborted)return n(eQ);let o=eB(t)?t:"function"==typeof t?t(e.right):t;eB(o)?o[eF](r,n):n(eU(o))})})),tB=o(2,(e,t)=>tp(function(r,n){e[eF](r,function(e){if("Left"===e._tag)return n(e);if(e9(r,ts).aborted)return n(eQ);let o=eB(t)?t:"function"==typeof t?t(e.right):t;eB(o)?o[eF](r,function(t){if("Left"===t._tag)return n(t);n(e)}):n(e)})})),t$=e=>tM(e,e=>void 0),tJ=e=>tp(function(t,r){e[eF](t,function(e){r(eU(e))})}),tV=o(e=>eB(e[1]),(e,t,r)=>tz(e,t,(e,t)=>[e,t],r)),tz=o(e=>eB(e[1]),(e,t,r,n)=>n?.concurrent?tM(ru([e,t],{concurrency:"unbounded"}),([e,t])=>r(e,t)):tx(e,e=>tM(t,t=>r(e,t)))),tG=o(e=>eB(e[0]),(e,t,r)=>tx(e,e=>t(e)?ty(e):tb(r(e)))),tY=o(e=>eB(e[0]),(e,t,r)=>tx(e,e=>t(e)?ty(e):t_(r(e)))),tH=o(2,(e,t)=>tx(eB(t)?t:tO(t),t=>t?tP(e):ty(eM()))),tK=o(2,(e,t)=>tp(function(r,n){let o=t.schedule?Date.now():0,i=0;e[eF](r,function s(a){if(void 0!==t.while&&!t.while(a)||void 0!==t.times&&i>=t.times)return n(a);i++;let l=tU;if(void 0!==t.schedule){let e=Date.now()-o,r=t.schedule(i,e);if(ea(r))return n(a);l=rt(r.value)}l[eF](r,function(t){if("Left"===t._tag)return n(t);e[eF](r,s)})})})),tW=(e,t=2)=>r=>ec(Math.pow(t,r)*e),tq=o(2,(e,t)=>(r,n)=>eP(e(r,n),e=>Math.min(e,t))),tX=o(2,(e,t)=>(r,n)=>n<t?e(r,n):eM()),tZ=o(2,(e,t)=>tQ(e,a,t)),tQ=o(3,(e,t,r)=>tp(function(n,o){e[eF](n,function(e){"Right"!==e._tag&&t(e.left)?r(e.left)[eF](n,o):o(e)})})),t0=o(2,(e,t)=>tZ(e,e=>eq(e)?t(e.error):tb(e))),t1=o(3,(e,t,r)=>tQ(e,t,e=>tF(r(e),tb(e)))),t2=o(2,(e,t)=>t1(e,eq,e=>t(e.error))),t3=o(3,(e,t,r)=>tQ(e,e=>eq(e)&&t(e.error),e=>r(e.error))),t4=o(3,(e,t,r)=>t3(e,_(t),r)),t5=o(2,(e,t)=>t0(e,e=>t_(t(e)))),t7=e=>re(e,{onFailure:e=>tS,onSuccess:e=>tS}),t6=o(e=>eB(e[0]),(e,t)=>tK(e,{...t,while:e=>"Left"===e._tag&&"Fail"===e.left._tag&&(t?.while===void 0||t.while(e.left.error))})),t9=function(){let e=globalThis.Error.stackTraceLimit;globalThis.Error.stackTraceLimit=2;let t=new globalThis.Error;globalThis.Error.stackTraceLimit=e;let r=e=>r=>tg(function(n,o){r[eF](n,function(r){o("Left"===r._tag?eC(function(e,r){let n=t.stack;if(!n)return r;let o=n.split("\n")[2]?.trim().replace(/^at /,"");if(!o)return r;let i=o.match(/\((.*)\)$/);return eZ(r,`at ${e} (${i?i[1]:o})`)}(e,r.left)):r)})},!1);return 2==arguments.length?r(arguments[1])(arguments[0]):r(arguments[0])},t8=o(2,(e,t)=>tp(function(r,n){e[eF](r,function(e){try{("Left"===e._tag?t.onFailure(e.left):t.onSuccess(e.right))[eF](r,n)}catch(e){n(e1(e))}})})),re=o(2,(e,t)=>t8(e,{onFailure:e=>"Fail"===e._tag?t.onFailure(e.error):tb(e),onSuccess:t.onSuccess})),rt=e=>tR(function(t){let r=setTimeout(function(){t(tS)},e);return tO(()=>clearTimeout(r))}),rr=Symbol.for("effect/Micro/MicroScope");class rn{[rr];state={_tag:"Open",finalizers:new Set};constructor(){this[rr]=rr}unsafeAddFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.add(e)}addFinalizer(e){return tT(()=>"Open"===this.state._tag?(this.state.finalizers.add(e),tS):e(this.state.exit))}unsafeRemoveFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.delete(e)}close(e){return tT(()=>{if("Open"===this.state._tag){let t=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:e},tx(rc(t,t=>tJ(t(e))),e=>t$(tE(Either.all(e))))}return tS})}get fork(){return tO(()=>{let e=new rn;if("Closed"===this.state._tag)return e.state=this.state,e;function t(t){return e.close(t)}return this.state.finalizers.add(t),e.unsafeAddFinalizer(e=>tO(()=>this.unsafeRemoveFinalizer(t))),e})}}let ro=o(3,(e,t,r)=>ra(n=>tp(function(o,i){n(e)[eF](o,function(e){if(!t(e))return i(e);r(e)[eF](o,function(t){if("Left"===t._tag)return i(t);i(e)})})}))),ri=o(2,(e,t)=>ro(e,e2,e=>t)),rs=e=>tg(function(t,r){let n=te(t,function(e){return e[tc.key]=!1,e[ts.key]=new AbortController().signal,e});e[eF](n,r)},!1),ra=e=>tg((t,r)=>{let n=e9(t,tc),o=n?e(rl):e(i),s=n?te(t,function(e){return e[tc.key]=!1,e[ts.key]=new AbortController().signal,e}):t;o[eF](s,r)},!1),rl=e=>tp((t,r)=>{let n=e9(t,tc),o=t;if(!n){let e=e9(t,ti);o=te(t,function(t){return t[tc.key]=!0,t[ts.key]=e.signal,t})}e[eF](o,r)}),ru=(e,t)=>Array.isArray(e)||m(e)?rc(e,i,t):t?.discard?rc(Object.values(e),i,t):tT(()=>{let r={};return tj(rc(Object.entries(e),([e,t])=>tM(t,t=>{r[e]=t}),{discard:!0,concurrency:t?.concurrency}),r)}),rc=(e,t,r)=>tp(function(n,o){let i;let s=r?.concurrency==="inherit"?e9(n,tl):r?.concurrency??1,a="unbounded"===s?Number.POSITIVE_INFINITY:Math.max(1,s),[l,u]=function(e){let t=new AbortController,r=e9(e,ts);function n(){t.abort(),r.removeEventListener("abort",n)}return r.addEventListener("abort",n),[te(e,function(e){return e[ti.key]=t,e[ts.key]=t.signal,e}),n]}(n),c=Array.from(e),f=c.length,h=r?.discard?void 0:Array(f),d=0,g=0,p=0,E=!1;!function e(){for(E=!0;g<a&&d<f;){let r=d,n=c[r];d++,g++;try{t(n,r)[eF](l,function(t){"Left"===t._tag?void 0===i&&(i=t,f=d,u()):void 0!==h&&(h[r]=t.right),p++,g--,p===f?o(i??eU(h)):!E&&g<a&&e()})}catch(e){i=e1(e),f=d,u()}}E=!1}()}),rf=Symbol.for("effect/Micro/Handle");class rh{parentSignal;[rf];observers=new Set;_exit=void 0;_controller;isRoot;constructor(e,t){this.parentSignal=e,this[rf]=rf,this.isRoot=void 0!==t,this._controller=t??new AbortController,this.isRoot||e.addEventListener("abort",this.unsafeInterrupt)}unsafePoll(){return this._exit??null}unsafeInterrupt=()=>{this._controller.abort()};emit(e){this._exit||(this._exit=e,this.isRoot||this.parentSignal.removeEventListener("abort",this.unsafeInterrupt),this.observers.forEach(t=>t(e)),this.observers.clear())}addObserver(e){if(this._exit)return e(this._exit);this.observers.add(e)}removeObserver(e){this.observers.delete(e)}get await(){return tT(()=>this._exit?ty(this._exit):tR(e=>{function t(t){e(ty(t))}return this.addObserver(t),tO(()=>{this.removeObserver(t)})}))}get join(){return tx(this.await,tE)}get interrupt(){return tT(()=>(this.unsafeInterrupt(),this.await))}}let rd=(e,t)=>{let r=new AbortController,n=Object.create(null);n[ti.key]=r,n[ts.key]=r.signal;let o=e6(n),i=new rh(r.signal,r);return e[eF](e8(o,ts,i._controller.signal),e=>{i.emit(e),t?.signal&&t.signal.removeEventListener("abort",i.unsafeInterrupt)}),t?.signal&&(t.signal.aborted?i.unsafeInterrupt():t.signal.addEventListener("abort",i.unsafeInterrupt,{once:!0})),i},rg=(e,t)=>new Promise((r,n)=>{rd(e,t).addObserver(r)}),rp=e=>{let t=rd(e);for(;tw.tasks.length>0;)tA();let r=t.unsafePoll();return null===r?e1(t):r},rE=e=>{let t=rp(e);if("Left"===t._tag)throw t.left;return t.right},ry=function(){class e extends globalThis.Error{[eF](e,t){t(e0(this))}toString(){return this.message?`${this.name}: ${this.message}`:this.name}toJSON(){return{...this}}[J](){let e=this.stack;return e?`${this.toString()}
${e.split("\n").slice(1).join("\n")}`:this.toString()}}return Object.assign(e.prototype,tf,ee),e}(),r_=class extends ry{constructor(e){super(),e&&Object.assign(this,e)}},rm=e=>{class t extends r_{_tag=e}return t.prototype.name=e,t};class rb extends rm("NoSuchElementException"){}rm("TimeoutException");var rO=r(257);let rv=Object.create(null),rT=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?rv:globalThis),rS=new Proxy(rv,{get:(e,t)=>rT()[t]??rv[t],has:(e,t)=>t in rT()||t in rv,set:(e,t,r)=>(rT(!0)[t]=r,!0),deleteProperty(e,t){if(!t)return!1;let r=rT(!0);return delete r[t],!0},ownKeys:()=>Object.keys(rT(!0))}),rR="u">typeof rO&&rO.env&&"production"||"",rI=[["APPVEYOR"],["AWS_AMPLIFY","AWS_APP_ID",{ci:!0}],["AZURE_PIPELINES","SYSTEM_TEAMFOUNDATIONCOLLECTIONURI"],["AZURE_STATIC","INPUT_AZURE_STATIC_WEB_APPS_API_TOKEN"],["APPCIRCLE","AC_APPCIRCLE"],["BAMBOO","bamboo_planKey"],["BITBUCKET","BITBUCKET_COMMIT"],["BITRISE","BITRISE_IO"],["BUDDY","BUDDY_WORKSPACE_ID"],["BUILDKITE"],["CIRCLE","CIRCLECI"],["CIRRUS","CIRRUS_CI"],["CLOUDFLARE_PAGES","CF_PAGES",{ci:!0}],["CODEBUILD","CODEBUILD_BUILD_ARN"],["CODEFRESH","CF_BUILD_ID"],["DRONE"],["DRONE","DRONE_BUILD_EVENT"],["DSARI"],["GITHUB_ACTIONS"],["GITLAB","GITLAB_CI"],["GITLAB","CI_MERGE_REQUEST_ID"],["GOCD","GO_PIPELINE_LABEL"],["LAYERCI"],["HUDSON","HUDSON_URL"],["JENKINS","JENKINS_URL"],["MAGNUM"],["NETLIFY"],["NETLIFY","NETLIFY_LOCAL",{ci:!1}],["NEVERCODE"],["RENDER"],["SAIL","SAILCI"],["SEMAPHORE"],["SCREWDRIVER"],["SHIPPABLE"],["SOLANO","TDDIUM"],["STRIDER"],["TEAMCITY","TEAMCITY_VERSION"],["TRAVIS"],["VERCEL","NOW_BUILDER"],["VERCEL","VERCEL",{ci:!1}],["VERCEL","VERCEL_ENV",{ci:!1}],["APPCENTER","APPCENTER_BUILD_ID"],["CODESANDBOX","CODESANDBOX_SSE",{ci:!1}],["STACKBLITZ"],["STORMKIT"],["CLEAVR"],["ZEABUR"],["CODESPHERE","CODESPHERE_APP_ID",{ci:!0}],["RAILWAY","RAILWAY_PROJECT_ID"],["RAILWAY","RAILWAY_SERVICE_ID"]],rL=function(){if(globalThis.process?.env)for(let e of rI){let t=e[1]||e[0];if(globalThis.process?.env[t])return{name:e[0].toLowerCase(),...e[2]}}return globalThis.process?.env?.SHELL==="/bin/jsh"&&globalThis.process?.versions?.webcontainer?{name:"stackblitz",ci:!1}:{name:"",ci:!1}}();function rN(e){return!!e&&"false"!==e}rL.name;let rw=globalThis.process?.platform||"",rA=(rN(rS.CI)||rL.ci,rN(globalThis.process?.stdout&&globalThis.process?.stdout.isTTY)),rk=(rN(rS.DEBUG),"test"===rR||rN(rS.TEST)),rC=(rN(rS.MINIMAL),/^win/i.test(rw)),rU=(/^linux/i.test(rw),/^darwin/i.test(rw),!rN(rS.NO_COLOR)&&(rN(rS.FORCE_COLOR)||(rA||rC)&&rS.TERM),(globalThis.process?.versions?.node||"").replace(/^v/,"")||null),rD=(rU?.split(".")[0],globalThis.process||Object.create(null)),rM={versions:{}},rj=new Proxy(rD,{get:(e,t)=>"env"===t?rS:t in e?e[t]:t in rM?rM[t]:void 0}),rP=globalThis.process?.release?.name==="node",rx=!!globalThis.Bun||!!globalThis.process?.versions?.bun,rF=!!globalThis.Deno,rB=!!globalThis.fastly,r$=[[!!globalThis.Netlify,"netlify"],[!!globalThis.EdgeRuntime,"edge-light"],[globalThis.navigator?.userAgent==="Cloudflare-Workers","workerd"],[rB,"fastly"],[rF,"deno"],[rx,"bun"],[rP,"node"],[!!globalThis.__lagon__,"lagon"]],rJ=function(){let e=r$.find(e=>e[0]);if(e)return{name:e[1]}}();rJ?.name;class rV extends rm("InvalidURL"){constructor(e){super({reason:`Failed to parse '${e}' as a URL.`})}}class rz extends rm("RetryError"){}class rG extends rm("FetchError"){}class rY extends rm("InvalidJson"){}class rH extends rm("BadRequestError"){getMessage(){return b(this.json)&&"string"==typeof this.json.message?this.json.message:this.message}}class rK extends rm("UploadAborted"){}async function rW(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.error(`Error parsing JSON, got '${e}'`),Error(`Error parsing JSON, got '${e}'`)}let t=await e.text();try{return JSON.parse(t??"null")}catch(e){return console.error(`Error parsing JSON, got '${t}'`),Error(`Error parsing JSON, got '${t}'`)}}function rq(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let rX=e=>tD(function*(){let t="undefined"!=typeof window?window.location.origin:rj.env?.VERCEL_URL?`https://${rj.env.VERCEL_URL}`:"http://localhost:3000",r=yield*tI({try:()=>new URL(e??"/api/uploadthing",t),catch:()=>new rV(e??"/api/uploadthing")});return"/"===r.pathname&&(r.pathname="/api/uploadthing"),r}),rZ=e=>e instanceof URL?e:rE(rX(e)),rQ={BAD_REQUEST:400,NOT_FOUND:404,FORBIDDEN:403,INTERNAL_SERVER_ERROR:500,INTERNAL_CLIENT_ERROR:500,TOO_LARGE:413,TOO_SMALL:400,TOO_MANY_FILES:400,KEY_TOO_LONG:400,URL_GENERATION_FAILED:500,UPLOAD_FAILED:500,MISSING_ENV:500,FILE_LIMIT_EXCEEDED:500};class r0 extends r_{constructor(e){var t,r;let n="string"==typeof e?{code:"INTERNAL_SERVER_ERROR",message:e}:e;super({message:n.message??(t=n.cause,r=n.code,"string"==typeof t?t:t instanceof Error||t&&"object"==typeof t&&"message"in t&&"string"==typeof t.message?t.message:r??"An unknown error occurred")}),this._tag="UploadThingError",this.name="UploadThingError",this.code=n.code,this.data=n.data,n.cause instanceof Error?this.cause=n.cause:rq(n.cause)&&"number"==typeof n.cause.status&&"string"==typeof n.cause.statusText?this.cause=Error(`Response ${n.cause.status} ${n.cause.statusText}`):"string"==typeof n.cause?this.cause=Error(n.cause):this.cause=n.cause}static toObject(e){return{code:e.code,message:e.message,data:e.data}}static serialize(e){return JSON.stringify(r0.toObject(e))}}function r1(e){for(let[t,r]of Object.entries(rQ))if(r===e)return t;return"INTERNAL_SERVER_ERROR"}let r2=e=>new r0({code:"INTERNAL_CLIENT_ERROR",message:"Something went wrong. Please report this to UploadThing.",cause:e});class r3 extends eS("uploadthing/FetchContext")(){}let r4=(e,t)=>tx(tt(r3),({fetch:r,baseHeaders:n})=>{let o=new Headers(t?.headers??[]);for(let[e,t]of Object.entries(n))"string"==typeof t&&o.set(e,t);let i={url:e.toString(),method:t?.method,body:t?.body,headers:Object.fromEntries(o)};return tN({try:n=>r(e,{...t,headers:o,signal:n}),catch:e=>new rG({error:e instanceof Error?{...e,name:e.name,message:e.message,stack:e.stack}:e,input:i})}).pipe(tM(e=>Object.assign(e,{requestUrl:i.url})),t9("fetch"))}),r5=e=>tN({try:async()=>({json:await e.json(),ok:e.ok,status:e.status}),catch:t=>new rY({error:t,input:e.requestUrl})}).pipe(tY(({ok:e})=>e,({json:t,status:r})=>new rH({status:r,message:`Request to ${e.requestUrl} failed with status ${r}`,json:t})),tM(({json:e})=>e),t9("parseJson")),r7=()=>u(tW(10,4),tq(1e3),tX(6e4)),r6=o(2,(e,t)=>{let r=0;for(let n of e){let e=t(n,r);if(d(e)){if(e)return ec(n)}else if(el(e))return e;r++}return eM()});var r9="6.13.3";let r8=(e,t,r)=>tD(function*(){let n=0,o=yield*rc(t.urls,(o,i)=>{let s=t.chunkSize*i,a=Math.min(s+t.chunkSize,e.size);return ne({url:o,chunk:e.slice(s,a),contentDisposition:t.contentDisposition,fileType:e.type,fileName:e.name,onProgress:t=>{let o=(n+=t)/e.size*100;r.onUploadProgress?.({file:e.name,progress:o})}}).pipe(tM(e=>({tag:e,partNumber:i+1})),t6({while:e=>e instanceof rz,times:rk?3:10,schedule:r7()}))},{concurrency:"inherit"}).pipe(t2(n=>r.reportEventToUT("failure",{fileKey:t.key,uploadId:t.uploadId,fileName:e.name,storageProviderError:String(n)})));yield*r.reportEventToUT("multipart-complete",{uploadId:t.uploadId,fileKey:t.key,etags:o})}),ne=e=>tR(t=>{var r,n;let o=new XMLHttpRequest;o.open("PUT",e.url,!0),o.setRequestHeader("Content-Type",e.fileType),o.setRequestHeader("Content-Disposition",(r=e.contentDisposition,n=e.fileName,[r,`filename="${encodeURI(n)}"`,`filename*=UTF-8''${encodeURI(n)}`].join("; "))),o.addEventListener("load",()=>{let e=o.getResponseHeader("Etag");return o.status>=200&&o.status<=299&&e?t(ty(e)):t(t_(new rz))}),o.addEventListener("error",()=>t(t_(new rz)));let i=0;return o.upload.addEventListener("progress",t=>{let r=t.loaded-i;i+=r,e.onProgress(r)}),o.send(e.chunk),tO(()=>o.abort())}),nt=(e,t,r)=>tR(n=>{let o=new XMLHttpRequest;o.open("POST",t.url),o.setRequestHeader("Accept","application/xml"),o.upload.addEventListener("progress",({loaded:t,total:n})=>{r.onUploadProgress?.({file:e.name,progress:t/n*100})}),o.addEventListener("load",()=>n(o.status>=200&&o.status<300?ty(null):r.reportEventToUT("failure",{fileKey:t.key,uploadId:null,fileName:e.name,storageProviderError:o.responseText}))),o.addEventListener("error",()=>n(r.reportEventToUT("failure",{fileKey:t.key,uploadId:null,fileName:e.name})));let i=new FormData;return Object.entries(t.fields).forEach(([e,t])=>i.append(e,t)),i.append("file",e),o.send(i),tO(()=>{o.abort()})}),nr=e=>{let t=e.match(/<Code>(.*?)<\/Code>/s),r=e.match(/<Message>(.*?)<\/Message>/s),n=t?.[1],o=r?.[1];return n&&o?{code:no[n]??nn,message:o}:null},nn="UPLOAD_FAILED",no={AccessDenied:"FORBIDDEN",EntityTooSmall:"TOO_SMALL",EntityTooLarge:"TOO_LARGE",ExpiredToken:"FORBIDDEN",IncorrectNumberOfFilesInPostRequest:"TOO_MANY_FILES",InternalError:"INTERNAL_SERVER_ERROR",KeyTooLongError:"KEY_TOO_LONG",MaxMessageLengthExceeded:"TOO_LARGE"},ni=e=>{let t=new URL(e.url),r=new URLSearchParams(t.search);return r.set("actionType",e.actionType),r.set("slug",e.slug),t.search=r.toString(),t},ns=e=>(t,r)=>tD(function*(){let n=ni({url:e.url,slug:e.endpoint,actionType:t}),o="function"==typeof e.headers?e.headers():e.headers;o instanceof Promise&&(o=yield*tL(()=>o));let s=yield*r4(n,{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json","x-uploadthing-package":e.package,"x-uploadthing-version":r9,...o}}).pipe(tF(r5),tM(i),t4("FetchError",e=>t_(new r0({code:"INTERNAL_CLIENT_ERROR",message:`Failed to report event "${t}" to UploadThing server`,cause:e}))),t4("BadRequestError",e=>t_(new r0({code:r1(e.status),message:e.getMessage(),cause:e.json}))),t4("InvalidJson",e=>t_(new r0({code:"INTERNAL_CLIENT_ERROR",message:"Failed to parse response from UploadThing server",cause:e}))));if("failure"===t){let e=nr(r.storageProviderError??"");return e?.message?yield*new r0({code:e.code,message:e.message}):yield*new r0({code:"UPLOAD_FAILED",message:`Failed to upload file ${r.fileName} to S3`,cause:r.storageProviderError})}return s}),na=e=>(t,r)=>nl(t,{...r,url:rZ(e?.url),package:e.package,input:r.input}).pipe(tr(r3,{fetch:globalThis.fetch.bind(globalThis),baseHeaders:{"x-uploadthing-version":r9,"x-uploadthing-api-key":void 0,"x-uploadthing-fe-package":e.package,"x-uploadthing-be-adapter":void 0}}),e=>rg(e,r.signal?{signal:r.signal}:{})).then(e=>{if("Right"===e._tag)return e.right;if("Interrupt"===e.left._tag)throw new rK;throw eX(e.left)}),nl=(e,t)=>{let r=ns({endpoint:String(e),package:t.package,url:rZ(t.url),headers:t.headers});return r("upload",{input:"input"in t?t.input:null,files:t.files.map(e=>({name:e.name,size:e.size,type:e.type}))}).pipe(tx(n=>rc(n,n=>nf(String(e),{...t,reportEventToUT:r},n).pipe(ri(r("failure",{fileKey:n.key,uploadId:"uploadId"in n?n.uploadId:null,fileName:n.fileName}).pipe(t7))),{concurrency:6})))},nu=e=>!!rq(e)&&("done"===e.status?"callbackData"in e:"still waiting"===e.status),nc=e=>"done"===e.status,nf=(e,t,r)=>r6(t.files,e=>e.name===r.fileName).pipe(tv,t5(()=>(console.error("No file found for presigned URL",r),new r0({code:"NOT_FOUND",message:"No file found for presigned URL",cause:`Expected file with name ${r.fileName} but got '${t.files.join(",")}'`}))),tB(e=>t.onUploadBegin?.({file:e.name})),tB(e=>"urls"in r?r8(e,r,t):nt(e,r,t)),tV(r4(r.pollingUrl,{headers:{authorization:r.pollingJwt}}).pipe(tx(r5),t4("BadRequestError",e=>t_(new r0({code:r1(e.status),message:e.message,cause:e}))),tG(nu,e=>eH("received a non PollingResponse from the polling endpoint")),tY(nc,()=>new rz),tM(({callbackData:e})=>e),t6({while:e=>"RetryError"===e._tag,schedule:r7()}),tH(()=>!t.skipPolling),tM(ej),tM(i))),tM(([e,t])=>({name:e.name,size:e.size,key:r.key,serverData:t,url:r.fileUrl,appUrl:r.appUrl,customId:r.customId,type:e.type})));var nh={uploadthing:"^6.10.0"};let nd="undefined"!=typeof window?n.useInsertionEffect||n.useLayoutEffect:()=>void 0;function ng(){throw Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}let np=(e,t)=>{var r,o;let i=globalThis.__UPLOADTHING,{data:s}=function(e,t){let r=(0,n.useRef)({}),o=(0,n.useRef)(!1),i={error:void 0,data:void 0},[s,a]=(0,n.useReducer)((e,t)=>{switch(t.type){case"loading":return{...i};case"fetched":return{...i,data:t.payload};case"error":return{...i,error:t.payload};default:return e}},i);return(0,n.useEffect)(()=>{if(e)return o.current=!1,(async()=>{if(a({type:"loading"}),r.current[e]){a({type:"fetched",payload:r.current[e]});return}try{let t=await fetch(e,void 0);if(!t.ok)throw Error(t.statusText);let n=await rW(t);if(n instanceof Error)throw n;if(r.current[e]=n,o.current)return;a({type:"fetched",payload:n})}catch(e){if(o.current)return;a({type:"error",payload:e})}})(),()=>{o.current=!0}},[e]),s}(i?void 0:e.href);return null===(o=null!=i?i:s)||void 0===o?void 0:null===(r=o.find(e=>e.slug===t))||void 0===r?void 0:r.config},nE=e=>{!function(e,t){let r=/(\d+)\.?(\d+)?\.?(\d+)?/,n=e.match(r);if(!n?.[0])throw Error(`Invalid semver requirement: ${e}`);let o=t.match(r);if(!o?.[0])throw Error(`Invalid semver to check: ${t}`);let[i,s,a,l]=n,[u,c,f,h]=o;return e.startsWith("^")?s===c&&!(a>f):e.startsWith("~")?s===c&&a===f:s===c&&a===f&&l===h}(nh.uploadthing,r9)&&console.error('!!!WARNING::: @uploadthing/react requires "uploadthing@'.concat(nh.uploadthing,'", but version "').concat(r9,'" is installed'));let t=na({url:e.url,package:"@uploadthing/react"});return(r,o)=>{let[i,s]=(0,n.useState)(!1),a=(0,n.useRef)(0),l=(0,n.useRef)(new Map),u=function(e){let t=n.useRef(ng);nd(()=>{t.current=e},[e]);let r=n.useRef();return r.current||(r.current=function(){return t.current.apply(this,arguments)}),r.current}(async function(){for(var e,n,i,u,c,f=arguments.length,h=Array(f),d=0;d<f;d++)h[d]=arguments[d];let g=null!==(i=await (null==o?void 0:null===(e=o.onBeforeUploadBegin)||void 0===e?void 0:e.call(o,h[0])))&&void 0!==i?i:h[0],p=h[1];s(!0),g.forEach(e=>l.current.set(e.name,0)),null==o||null===(n=o.onUploadProgress)||void 0===n||n.call(o,0);try{let e=await t(r,{signal:null==o?void 0:o.signal,headers:null==o?void 0:o.headers,files:g,skipPolling:null==o?void 0:o.skipPolling,onUploadProgress:e=>{if(!(null==o?void 0:o.onUploadProgress))return;l.current.set(e.file,e.progress);let t=0;l.current.forEach(e=>{t+=e});let r=10*Math.floor(t/l.current.size/10);if(r!==a.current){var n;null==o||null===(n=o.onUploadProgress)||void 0===n||n.call(o,r),a.current=r}},onUploadBegin(e){let{file:t}=e;(null==o?void 0:o.onUploadBegin)&&o.onUploadBegin(t)},input:p});return await (null==o?void 0:null===(u=o.onClientUploadComplete)||void 0===u?void 0:u.call(o,e)),e}catch(t){let e;if(t instanceof rK)throw t;t instanceof r0?e=t:console.error("Something went wrong. Please contact UploadThing and provide the following cause:",(e=r2(t)).cause instanceof Error?e.cause.toString():e.cause),await (null==o?void 0:null===(c=o.onUploadError)||void 0===c?void 0:c.call(o,e))}finally{s(!1),l.current=new Map,a.current=0}}),c=np(e.url,r);return{startUpload:u,isUploading:i,routeConfig:c,permittedFileInfo:c?{slug:r,config:c}:void 0}}},ny=e=>{let t=rZ(null==e?void 0:e.url);return{useUploadThing:nE({url:t}),uploadFiles:na({url:t,package:"@uploadthing/react"}),getRouteConfig:e=>{var t;let r=globalThis.__UPLOADTHING,n=null==r?void 0:null===(t=r.find(t=>t.slug===e))||void 0===t?void 0:t.config;if(!n)throw Error('No config found for endpoint "'.concat(e.toString(),'". Please make sure to use the NextSSRPlugin in your Next.js app.'));return n}}}}}]);