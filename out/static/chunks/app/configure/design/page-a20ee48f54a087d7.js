(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{1782:function(e,t,a){Promise.resolve().then(a.bind(a,3568))},3568:function(e,t,a){"use strict";a.d(t,{default:function(){return T}});var s=a(7437),n=()=>(0,s.jsx)("div",{className:"w-5 h-5 rounded-full shadow border bg-white border-zinc-200 transition hover:bg-primary"});let r=a(1653).f;var l=a(2265),o=a(314),i=a(3448);let c=l.forwardRef((e,t)=>{let{className:a,children:n,...r}=e;return(0,s.jsxs)(o.fC,{ref:t,className:(0,i.cn)("relative overflow-hidden",a),...r,children:[(0,s.jsx)(o.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,s.jsx)(d,{}),(0,s.jsx)(o.Ns,{})]})});c.displayName=o.fC.displayName;let d=l.forwardRef((e,t)=>{let{className:a,orientation:n="vertical",...r}=e;return(0,s.jsx)(o.gb,{ref:t,orientation:n,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...r,children:(0,s.jsx)(o.q4,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=o.gb.displayName;var u=a(3145),m=a(7860),f=a(5554),p=a(446),h=a(5060),x=a(2060),b=a(2381),g=a(4156),v=a(401),w=a(6858),y=a(8145),N=a(9203),j=a(8752),S=a(1770);a(3079);var _=(0,a(2119).$)("f96a32062c78b5f1070cc13a855d3237cd6cdd14"),R=a(9376),T=e=>{let{configId:t,imageUrl:a,imageDimensions:o}=e,{toast:d}=(0,j.pm)(),T=(0,R.useRouter)(),{mutate:k,isPending:z}=(0,S.D)({mutationKey:["save-config"],mutationFn:async e=>{await Promise.all([F(),_(e)])},onError:()=>{d({title:"Something went wrong",description:"There was an error on our end. Please try again.",variant:"destructive"})},onSuccess:()=>{T.push("/configure/preview?id=".concat(t))}}),[E,A]=(0,l.useState)({color:p.DM[0],model:p.dX.options[0],material:p.gU.options[0],finish:p.gq.options[0]}),[C,O]=(0,l.useState)({width:o.width/4,height:o.height/4}),[D,I]=(0,l.useState)({x:150,y:205}),P=(0,l.useRef)(null),U=(0,l.useRef)(null),{startUpload:M}=(0,N.n)("imageUploader");async function F(){try{let{left:e,top:s,width:n,height:r}=P.current.getBoundingClientRect(),{left:l,top:o}=U.current.getBoundingClientRect(),i=D.x-(e-l),c=D.y-(s-o),d=document.createElement("canvas");d.width=n,d.height=r;let u=d.getContext("2d"),m=new Image;m.crossOrigin="anonymous",m.src=a,await new Promise(e=>m.onload=e),null==u||u.drawImage(m,i,c,C.width,C.height);let f=d.toDataURL().split(",")[1],p=function(e,t){let a=atob(e),s=Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);return new Blob([new Uint8Array(s)],{type:t})}(f,"image/png"),h=new File([p],"filename.png",{type:"image/png"});await M([h],{configId:t})}catch(e){d({title:"Something went wrong",description:"There was a problem saving your config, please try again.",variant:"destructive"})}}return(0,s.jsxs)("div",{className:"relative mt-20 grid grid-cols-1 lg:grid-cols-3 mb-20 pb-20",children:[(0,s.jsxs)("div",{ref:U,className:"relative h-[37.5rem] overflow-hidden col-span-2 w-full max-w-4xl flex items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-12 text-center focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[(0,s.jsxs)("div",{className:"relative w-60 bg-opacity-50 pointer-events-none aspect-[896/1831]",children:[(0,s.jsx)(r,{ref:P,ratio:896/1831,className:"pointer-events-none relative z-50 aspect-[896/1831] w-full",children:(0,s.jsx)(u.default,{fill:!0,alt:"phone image",src:"/phone-template.png",className:"pointer-events-none z-50 select-none"})}),(0,s.jsx)("div",{className:"absolute z-40 inset-0 left-[3px] top-px right-[3px] bottom-px rounded-[32px] shadow-[0_0_0_99999px_rgba(229,231,235,0.6)]"}),(0,s.jsx)("div",{className:(0,i.cn)("absolute inset-0 left-[3px] top-px right-[3px] bottom-px rounded-[32px]","bg-".concat(E.color.tw))})]}),(0,s.jsx)(m.s,{default:{x:150,y:205,height:o.height/4,width:o.width/4},onResizeStop:(e,t,a,s,n)=>{let{x:r,y:l}=n;O({height:parseInt(a.style.height.slice(0,-2)),width:parseInt(a.style.width.slice(0,-2))}),I({x:r,y:l})},onDragStop:(e,t)=>{let{x:a,y:s}=t;I({x:a,y:s})},className:"absolute z-20 border-[3px] border-primary",lockAspectRatio:!0,resizeHandleComponent:{bottomRight:(0,s.jsx)(n,{}),bottomLeft:(0,s.jsx)(n,{}),topRight:(0,s.jsx)(n,{}),topLeft:(0,s.jsx)(n,{})},children:(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(u.default,{src:a,fill:!0,alt:"your image",className:"pointer-events-none"})})})]}),(0,s.jsxs)("div",{className:"h-[37.5rem] w-full col-span-full lg:col-span-1 flex flex-col bg-white rounded-lg shadow-sm",children:[(0,s.jsxs)(c,{className:"relative flex-1",children:[(0,s.jsxs)("div",{className:"px-8 pb-14 pt-8 space-y-6",children:[(0,s.jsx)("h2",{className:"tracking-tight font-bold text-2xl text-gray-900",children:"Customize your case"}),(0,s.jsx)("div",{className:"w-full h-px bg-zinc-200"}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(f.E,{value:E.color,onChange:e=>{A(t=>({...t,color:e}))},children:[(0,s.jsxs)(h._,{className:"text-base font-semibold",children:["Color: ",E.color.label]}),(0,s.jsx)("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:p.DM.map(e=>(0,s.jsx)(f.E.Option,{value:e,className:t=>{let{active:a,checked:s}=t;return(0,i.cn)("relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 active:ring-0 focus:ring-0 active:outline-none focus:outline-none border-2 border-transparent transition-all duration-200",{["border-".concat(e.tw," scale-110")]:a||s})},children:(0,s.jsx)("span",{className:(0,i.cn)("bg-".concat(e.tw),"h-8 w-8 rounded-full border border-black border-opacity-10 transition-transform hover:scale-105"),"aria-label":e.label})},e.label))})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(h._,{className:"text-base font-semibold",children:"Model"}),(0,s.jsxs)(x.h_,{children:[(0,s.jsx)(x.$F,{asChild:!0,children:(0,s.jsxs)(b.z,{variant:"outline",role:"combobox",className:"w-full justify-between py-5 text-base",children:[E.model.label,(0,s.jsx)(g.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(x.AW,{className:"w-[calc(100vw-4rem)] lg:w-[400px]",children:p.dX.options.map(e=>(0,s.jsxs)(x.Xi,{className:(0,i.cn)("flex text-base gap-2 items-center p-3 cursor-pointer hover:bg-zinc-100 transition-colors",{"bg-zinc-100":e.label===E.model.label}),onClick:()=>{A(t=>({...t,model:e}))},children:[(0,s.jsx)(v.Z,{className:(0,i.cn)("mr-2 h-4 w-4",e.label===E.model.label?"opacity-100":"opacity-0")}),e.label]},e.label))})]})]}),[p.gU,p.gq].map(e=>{let{name:t,options:a}=e;return(0,s.jsxs)(f.E,{value:E[t],onChange:e=>{A(a=>({...a,[t]:e}))},children:[(0,s.jsx)(h._,{className:"text-base font-semibold",children:t.slice(0,1).toUpperCase()+t.slice(1)}),(0,s.jsx)("div",{className:"mt-3 space-y-3",children:a.map(e=>(0,s.jsxs)(f.E.Option,{value:e,className:e=>{let{active:t,checked:a}=e;return(0,i.cn)("relative block cursor-pointer rounded-lg bg-white px-4 py-4 shadow-sm border-2 border-zinc-200 focus:outline-none ring-0 focus:ring-0 outline-none sm:flex sm:justify-between hover:border-primary transition-colors duration-200",{"border-primary shadow-md":t||a})},children:[(0,s.jsx)("span",{className:"flex items-center",children:(0,s.jsxs)("span",{className:"flex flex-col text-sm",children:[(0,s.jsx)(f.E.Label,{className:"font-semibold text-gray-900",as:"span",children:e.label}),e.description?(0,s.jsx)(f.E.Description,{as:"span",className:"text-gray-500 mt-1",children:(0,s.jsx)("span",{className:"block sm:inline",children:e.description})}):null]})}),(0,s.jsx)(f.E.Description,{as:"span",className:"mt-2 flex text-sm sm:ml-4 sm:mt-0 sm:flex-col sm:text-right",children:(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:(0,i.T)(e.price/100)})})]},e.value))})]},t)})]})})]}),(0,s.jsx)("div",{"aria-hidden":"true",className:"sticky bottom-0 z-10 h-12 bg-gradient-to-t from-white pointer-events-none"})]}),(0,s.jsx)("div",{className:"sticky bottom-0 w-full px-8 h-20 bg-white border-t border-zinc-200",children:(0,s.jsxs)("div",{className:"w-full h-full flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-gray-600 text-sm",children:"Total:"}),(0,s.jsx)("p",{className:"font-semibold text-xl",children:(0,i.T)((y.r+E.finish.price+E.material.price)/100)})]}),(0,s.jsx)(b.z,{onClick:()=>k({configId:t,color:E.color.value,finish:E.finish.value,material:E.material.value,model:E.model.value}),size:"lg",className:"min-w-[160px] text-base font-medium",children:z?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"animate-spin",children:"âŒ›"}),"Processing..."]}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Continue",(0,s.jsx)(w.Z,{className:"h-5 w-5"})]})})]})})]})]})}},2381:function(e,t,a){"use strict";a.d(t,{d:function(){return i},z:function(){return c}});var s=a(7437),n=a(2265),r=a(7053),l=a(7712),o=a(3448);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:a,variant:n,size:l,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:n,size:l,className:a})),ref:t,...d})});c.displayName="Button"},2060:function(e,t,a){"use strict";a.d(t,{$F:function(){return c},AW:function(){return d},Xi:function(){return u},h_:function(){return i}});var s=a(7437),n=a(2265),r=a(904),l=a(653),o=a(3448);let i=r.fC,c=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,n.forwardRef((e,t)=>{let{className:a,inset:n,children:i,...c}=e;return(0,s.jsxs)(r.fF,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",a),...c,children:[i,(0,s.jsx)(l.XCv,{className:"ml-auto h-4 w-4"})]})}).displayName=r.fF.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})}).displayName=r.tu.displayName;let d=n.forwardRef((e,t)=>{let{className:a,sideOffset:n=4,...l}=e;return(0,s.jsx)(r.Uv,{children:(0,s.jsx)(r.VY,{ref:t,sideOffset:n,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});d.displayName=r.VY.displayName;let u=n.forwardRef((e,t)=>{let{className:a,inset:n,...l}=e;return(0,s.jsx)(r.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",a),...l})});u.displayName=r.ck.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,checked:i,...c}=e;return(0,s.jsxs)(r.oC,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...c,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(l.nQG,{className:"h-4 w-4"})})}),n]})}).displayName=r.oC.displayName,n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,s.jsxs)(r.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(l.jXb,{className:"h-4 w-4 fill-current"})})}),n]})}).displayName=r.Rk.displayName,n.forwardRef((e,t)=>{let{className:a,inset:n,...l}=e;return(0,s.jsx)(r.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...l})}).displayName=r.__.displayName,n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...n})}).displayName=r.Z0.displayName},5060:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var s=a(7437),n=a(2265),r=a(6394),l=a(7712),o=a(3448);let i=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,o.cn)(i(),a),...n})});c.displayName=r.f.displayName},8752:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let n=0,r=new Map,l=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function d(e){c=o(c,e),i.forEach(e=>{e(c)})}function u(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(c);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8145:function(e,t,a){"use strict";a.d(t,{r:function(){return n},x:function(){return s}});let s={material:{silicone:0,polycarbonate:5e3},finish:{smooth:0,textured:5e3}},n=3e4},9203:function(e,t,a){"use strict";a.d(t,{n:function(){return s}});let{useUploadThing:s,uploadFiles:n}=(0,a(6030).g)()},3448:function(e,t,a){"use strict";a.d(t,{T:function(){return l},cn:function(){return r}});var s=a(1994),n=a(3335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}let l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(e)},446:function(e,t,a){"use strict";a.d(t,{DM:function(){return n},dX:function(){return r},gU:function(){return l},gq:function(){return o}});var s=a(8145);let n=[{label:"Black",value:"black",tw:"zinc-900"},{label:"Blue",value:"blue",tw:"blue-950"},{label:"Rose",value:"rose",tw:"rose-950"},{label:"White",value:"white",tw:"white"},{label:"Red",value:"red",tw:"red-600"},{label:"Light Blue",value:"lightblue",tw:"blue-600"},{label:"Orange",value:"orange",tw:"orange-600"},{label:"Green",value:"green",tw:"green-500"},{label:"Gray",value:"gray",tw:"gray-400"},{label:"Sky",value:"sky",tw:"sky-400"},{label:"Pink",value:"pink",tw:"pink-400"},{label:"Yellow",value:"yellow",tw:"yellow-300"}],r={name:"models",options:[{label:"iPhone X",value:"iphonex"},{label:"iPhone 11",value:"iphone11"},{label:"iPhone 12",value:"iphone12"},{label:"iPhone 13",value:"iphone13"},{label:"iPhone 14",value:"iphone14"},{label:"iPhone 15",value:"iphone15"}]},l={name:"material",options:[{label:"Silicone",value:"silicone",description:void 0,price:s.x.material.silicone},{label:"Soft Polycarbonate",value:"polycarbonate",description:"scratch resistant coating",price:s.x.material.polycarbonate}]},o={name:"finish",options:[{label:"Smooth Finish",value:"smooth",description:void 0,price:s.x.finish.smooth},{label:"Textured Finish",value:"textured",description:"soft and grippy texture",price:s.x.finish.textured}]}}},function(e){e.O(0,[310,137,323,341,56,145,565,641,856,971,117,744],function(){return e(e.s=1782)}),_N_E=e.O()}]);